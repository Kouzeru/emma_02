
<html>
<title>Profiler</title>
<body>
<h2>Profiler</h2>
<p>
Main purpose of this tab is to find hot code spots, dead code and analyse code & test coverage as well as to analyze timing for the running computer and CPU 
</p>
<h3>Timing</h3>
<IMG SRC="images/profiler_timing.png" BORDER="0">
<p>
The top part (yellow ellipse) shows the following timing details:
</p>
<ul>
<li>Running computer & CPU type
<li>Number of executed CPU cycles and instructions
<li>Time the computer has been running
<li>Effective CPU clock
<li>Number of instructions executed per second
<li>Vertical video frequency
</ul>
<h3>Profiler</h3>
<IMG SRC="images/profiler.png" BORDER="0">
<p>
The bottum left part (yellow ellipse) shows the profiler which can be used for the following:
</p>
<ul>
<li>To find "hot code spots" in any running software
<li>To find "dead code spots" in any running software
<li>As a "code coverage tool" to confirm that all code is executed during testing
<li>Measuring a time interval between two triggers (with Q flag or OUT x)
</ul>
<h4>Hot code spots</h4>
<p>
On the left of the scrollbar a number is shown per executed instruction (yellow ellipse). This number indicates the number of times that specific instruction is executed. Any value larger than 1 will be shown in a color ranging from green to red (orange ellipse), with green indicating a lower number of executions and red a higher number. The color indication is calculated using a logarithmic scale. Note that the any <font color="#9932cc">purple color</font> indicates a branch location, either as part of a branch instruction or that a branch ended up at that address. The <FONT COLOR="SALMON">salmon</FONT> (address 0180, 01A4 & 01A8 in screenshots) indicates that a SEP Rx instruction ended up at that address.
</p>
<p>
<IMG SRC="images/profiler_hot_code.png" BORDER="0">
</p>
<p>
The scrollbar can be used to move through the code where the top of the scrollbar will start with address 0 and bottom FFFF. Arrow keys up or down will move the code one instuction or address up or down and shift arrow up/down will move one page up/down. Alternatively an address can be specified in the 'Move to:' field (red ellipse) which will move the profiler directly to the specified address.
</p>
<p>
On the profiler tab only a small number of locations are shown at anyone time, to be able to scan through memory quicker for hot code spots the profiler on the Memory Dump tab can be used:
</p>
<p>
<IMG SRC="images/profiler_memory_dump.png" BORDER="0">
</p>
<p>
To select the memory dump profiler, first select the Memory Dump tab and then as 'Memory' select 'Profiler' (yellow ellipse). Then 256 addresses will be shown (red ellipse) each containing one counter value between 1 and 255 in the same color as used on the profiler tab with 'redder' color instructions beinig executed more frequently. The shown counter uses the same logartihmic scale as the color definition. Formula used is 5*ln(number of executions).
</p>
<p>
To change to the previous or next page use the buttons in the orange ellipse, alternatively specify a specific address in the field next to the buttons.
</p>
</body>
</html>